<!DOCTYPE html>
<html data-bs-theme="auto" lang="en">

<%- include('partials/head') %>

  <script>
    $(document).ready(function () {
      console.log("ready!");
      $("#sign-up").click(function () {

        console.log("sign up button pressed!");
        const url = `/api/users/`;
        const username = $("#email").val();
        const password = $("#password-up").val();

        console.log(username, password)

        // Make the AJAX GET request
        $.ajax({
          url: url,
          type: "POST",
          data: JSON.stringify({
            username: username,
            password: password
          }),
          contentType: "application/json",
          success: function (res) {
            console.log("Sign up success:", res);
            window.location.href = "/login";
          },
          error: function (err) {
            console.error("Sign up! error:", err);
          }
        });
      });
    });
  </script>

  <body>
    <%- include('partials/nav') %>
      <%- include('partials/components/signupcomponent.ejs') %>
        <%- include('partials/footer') %>
  </body>

</html>