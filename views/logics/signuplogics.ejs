<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
    $(document).ready(function () {
        console.log("ready!");
        $("#sign-up").click(function () {
            console.log("sign up button pressed!");
            const url = `/api/users/`;
            const username = $("#email").val();
            const password = $("#password-up").val();
            // const userId = Math.abs(Math.floor(Math.random()));
            // const cartId = Math.abs(Math.floor(Math.random()));


            // Make the AJAX GET request
            $.ajax({
                url: url,
                type: "POST",
                data: JSON.stringify({
                    username: username,
                    password: password,
                    // userId:userId,
                    // cartId: cartId
                }),
                contentType: "application/json",
                success: function (res) {
                    window.location.href = "/";
                },
                error: function (err) {
                    alert("Sign up failed! Please try again.");
                    console.error("Sign up! error:", err);
                }
            });

            // // create a new cart...
            //
            // const url1 = `/api/carts/`
            // $.ajax({
            //     url: url1,
            //     type: "POST",
            //     data: JSON.stringify({
            //        id: cartId,
            //         userId:userId,
            //         cartProducts:[],
            //         totalPrice: 0
            //     }),
            //     contentType: "application/json",
            //     success: function (res) {
            //         console.log("Cart creation success!")
            //         window.location.href = "/";
            //     },
            //     error: function (err) {
            //         alert("Cart creation failed! Please try again.");
            //         console.error("Sign up! error:", err);
            //     }
            // });
            //
            //
            //
            //  // create new wishlist...
            // const url2 = `/api/wishlists/`
            // $.ajax({
            //     url: url1,
            //     type: "POST",
            //     data: JSON.stringify({
            //         userId:userId,
            //         products:[]
            //     }),
            //     contentType: "application/json",
            //     success: function (res) {
            //         console.log("wishlist creation success!")
            //         window.location.href = "/";
            //     },
            //     error: function (err) {
            //         alert("wishlist creation failed! Please try again.");
            //         console.error("wishlist creation error:", err);
            //     }
            // });

        });
    });
</script>
